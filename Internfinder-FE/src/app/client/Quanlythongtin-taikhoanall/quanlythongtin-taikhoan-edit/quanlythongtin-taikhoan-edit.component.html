<header>
  <title>Cập nhật thông tin tài khoản</title>
</header>
<hr>
<div class="container">
  <div class="main-body" *ngIf="account.id_account == this.id_now ; else checkAccount">
    <div class="row gutters-sm">
      <div class="col-md-4 mb-3">
        <form [formGroup]="editForm">
          <div class="card">
            <div class="card-body">
              <div class="d-flex flex-column align-items-center text-center">
                <img [src]="account.image ||'https://firebasestorage.googleapis.com/v0/b/fir-angular-66583.appspot.com/o/avatar-1577909_1280.png?alt=media&token=d7eeaf14-9686-48ee-b313-973b26c57435'"  alt="Hình ảnh không tồn tại" class="rounded-circle"  width="100" height="100" style="display: inline-block">
                </div>
                <div class="mt-3">
                  <h4>{{account.fullName}}</h4>
                  <div *ngIf="!isnhatuyendung; else hahaform1"></div>
                  <ng-template #hahaform1>
                    <p class="text-muted font-size-sm">{{account.postion}}</p>
                  </ng-template>
                  <p class="text-muted font-size-sm">{{account.address}}</p>
                </div>
              </div>
            </div>
        </form>
        <div *ngIf="!isnhatuyendung; else hahaform2"></div>
        <ng-template #hahaform2>
          <div  class="card mt-3">
            <ul class="list-group list-group-flush">
              <li class="list-group-item d-flex justify-content-between align-items-center flex-wrap">
                <i class='fas fa-award' style='font-size:30px;color:#e3e311'>  Vàng</i>
                <span class="text-secondary"> +50</span>
              </li>
              <li class="list-group-item d-flex justify-content-between align-items-center flex-wrap">
                <i class='fas fa-award' style='font-size:30px;color:#cbd3da'>  Bạc</i>
                <span class="text-secondary"> +30</span>
              </li>
              <li class="list-group-item d-flex justify-content-between align-items-center flex-wrap">
                <i class='fas fa-award' style='font-size:30px;color:#c36f0e'>  Đồng</i>
                <span class="text-secondary"> +10</span>
              </li>
            </ul>
            <a class="btn btn-success">Nâng Cấp tài khoản</a>
          </div>
        </ng-template>

      </div>
      <div class="col-md-8">
        <div class="card mb-3">
       <form [formGroup]="editForm">
         <div class="card-body">
           <div class="row">
             <div class="col-sm-3">
               <h6 class="mb-0">Họ Và Tên</h6>
             </div>
             <div class="col-sm-9 text-secondary">
               <input type="text" class="form-control" [ngModel]="account.fullName" formControlName="fullName">
             </div>
           </div>
           <hr>
           <div class="row">
             <div class="col-sm-3">
               <h6 class="mb-0">Email</h6>
             </div>
             <div class="col-sm-9 text-secondary">
               <input type="text" class="form-control" [ngModel]="account.email" formControlName="email">
             </div>
           </div>
           <hr>
           <div class="row">
             <div class="col-sm-3">
               <h6 class="mb-0">Số Điên Thoại</h6>
             </div>
             <div class="col-sm-9 text-secondary">
               <input type="text" class="form-control" [ngModel]="account.phone" formControlName="phone" >
             </div>
           </div>
           <hr>
           <div class="row">
             <div class="col-sm-3">
               <h6 class="mb-0">Ngày Sinh</h6>
             </div>
             <div class="col-sm-9 text-secondary">
               <input type="date" class="form-control" [ngModel]="account.birthday" formControlName="birthday" >
             </div>
           </div>
           <hr>
           <div class="row">
             <div class="col-sm-3">
               <h6 class="mb-0">Địa Chỉ</h6>
             </div>
             <div class="col-sm-9 text-secondary">
               <input type="text" formControlName="address" [ngModel]="account.address" class="form-control" >
             </div>
           </div>
           <hr>
           <div class="row">
             <div class="col-sm-3">
               <h6 class="mb-0">Ngày Tạo</h6>
             </div>
             <div class="col-sm-9 text-secondary">
               <input type="date" formControlName="createDate" [ngModel]="account.createDate" class="form-control" >
             </div>
           </div>
           <hr>
           <div class="row">
             <div class="col-sm-3">
               <h6 class="mb-0">Link</h6>
             </div>
             <div class="col-sm-9 text-secondary">
               <input type="text" [ngModel]="account?.link" formControlName="link" class="form-control" >
             </div>
           </div>
           <hr>
           <div class="row">
             <div class="col-sm-3">
               <h6 class="mb-0">Đơn Vị Công Tác</h6>
             </div>
             <div class="col-sm-9 text-secondary">
               <input type="text" [ngModel]="account.companyName" formControlName="companyName" class="form-control" >
             </div>
           </div>
           <hr>
           <div class="row">
             <div class="col-sm-3">
               <h6 class="mb-0">Ảnh đại diện</h6>
             </div>
             <div class="col-sm-9 text-secondary">
               <input type="file" [ngModel]="account.image" (change)="showPreview($event)" formControlName="image" class="form-control" >
             </div>
           </div>
           <hr>
           <div class="row" *ngIf="!isnhatuyendung; else disableform">
           </div>
           <div class="row">
             <div class="col-sm-3">
               <h6 class="mb-0">Giới Tính</h6>
             </div>
             <div class="col-sm-9 text-secondary">
               <select  formControlName="sex" class="form-select" aria-label="Default select example" style="width: 510px ;">
                 <option  value="true">Nam </option>
                 <option  value="false">Nữ</option>
                 <option  value="">Giới tính khác</option>
               </select>
             </div>
           </div>
           <hr>
           <ng-template #disableform>
             <div class="row">
               <div class="col-sm-3">
                 <h6 class="mb-0">Email Liên Hệ</h6>
               </div>
               <div class="col-sm-9 text-secondary">
                 <input type="text" [ngModel]="account.email_contact" formControlName="email_contact" class="form-control" >
               </div>
             </div>
             <hr>
             <div class="row">
               <div class="col-sm-3">
                 <h6 class="mb-0">Chức Vụ</h6>
               </div>
               <div class="col-sm-9 text-secondary">
                 <input type="text" [ngModel]="account.postion" formControlName="postion" class="form-control" >
               </div>
             </div>
             <hr>
             <div class="row">
               <div class="col-sm-3">
                 <h6 class="mb-0">Địa chỉ Công ty</h6>
               </div>
               <div class="col-sm-9 text-secondary">
                 <input type="text" [ngModel]="account.company_address" formControlName="company_address" class="form-control" >
               </div>
             </div>
             <hr>
             <div class="row">
               <div class="col-sm-3">
                 <h6 class="mb-0">Website</h6>
               </div>
               <div class="col-sm-9 text-secondary">
                 <input type="text" [ngModel]="account.website" formControlName="website" class="form-control" >

               </div>
             </div>
             <hr>
             <div class="row">
               <div class="col-sm-3">
                 <h6 class="mb-0">Mã Số thuế</h6>
               </div>
               <div class="col-sm-9 text-secondary">
                 <input type="text" [ngModel]="account.taxCode" formControlName="taxCode" class="form-control" >
               </div>
             </div>
             <hr>
           </ng-template>
         </div>
         <div class="meta-line">
           <div class="row">
             <div class="col-sm-5"></div>
             <div class="col-sm-2">
               <span>
               <a class="btn btn-success" style="margin-bottom: 15px" onclick="document.getElementById('id01').style.display='block'">Cập nhật</a>
              </span>
               <div class="modal" id="id01" aria-hidden="true">
                  <span onclick="document.getElementById('id01').style.display='none'"
                        class="close" title="Close Modal">×</span>
                 <div class="modal-content">
                   <div class="modal-header">
                        <span onclick="document.getElementById('id01').style.display='none'"
                              class="close" title="Close Modal">×</span>
                     <h6  style="margin-right: 10px"> Bạn có muốn lưu thông tin  này ?</h6>
                   </div>
                   <div class="modal-footer">
                     <button type="button" class="btn btn-secondary" (click)="OnComback()">Quay lại</button>
                     <button type="button" class="btn btn-success" (click)="OnEdit()">Đồng ý</button>
                   </div>
                 </div>
               </div>

               <script>
                 // Get the modal
                 var modal = document.getElementById('id01');

                 // When the user clicks anywhere outside of the modal, close it
                 window.onclick = function (event) {
                   if (event.target == modal) {
                     modal.style.display = "none";
                   }
                 }
               </script>
             </div>
           </div>
         </div>
       </form>
        </div>
        <div class="row gutters-sm">
          <div class="col-sm-6 mb-3">
            <div class="card h-100">
              <div class="card-body">
                <h6 class="d-flex align-items-center mb-3"><i class="material-icons text-info mr-2">assignment</i>Project Status</h6>
                <small>Web Design</small>
                <div class="progress mb-3" style="height: 5px">
                  <div class="progress-bar bg-primary" role="progressbar" style="width: 80%" aria-valuenow="80" aria-valuemin="0" aria-valuemax="100"></div>
                </div>
                <small>Website Markup</small>
                <div class="progress mb-3" style="height: 5px">
                  <div class="progress-bar bg-primary" role="progressbar" style="width: 72%" aria-valuenow="72" aria-valuemin="0" aria-valuemax="100"></div>
                </div>
                <small>One Page</small>
                <div class="progress mb-3" style="height: 5px">
                  <div class="progress-bar bg-primary" role="progressbar" style="width: 89%" aria-valuenow="89" aria-valuemin="0" aria-valuemax="100"></div>
                </div>
                <small>Mobile Template</small>
                <div class="progress mb-3" style="height: 5px">
                  <div class="progress-bar bg-primary" role="progressbar" style="width: 55%" aria-valuenow="55" aria-valuemin="0" aria-valuemax="100"></div>
                </div>
                <small>Backend API</small>
                <div class="progress mb-3" style="height: 5px">
                  <div class="progress-bar bg-primary" role="progressbar" style="width: 66%" aria-valuenow="66" aria-valuemin="0" aria-valuemax="100"></div>
                </div>
              </div>
            </div>
          </div>
          <div class="col-sm-6 mb-3">
            <div class="card h-100">
              <div class="card-body">
                <h6 class="d-flex align-items-center mb-3"><i class="material-icons text-info mr-2">assignment</i>Project Status</h6>
                <small>Web Design</small>
                <div class="progress mb-3" style="height: 5px">
                  <div class="progress-bar bg-primary" role="progressbar" style="width: 80%" aria-valuenow="80" aria-valuemin="0" aria-valuemax="100"></div>
                </div>
                <small>Website Markup</small>
                <div class="progress mb-3" style="height: 5px">
                  <div class="progress-bar bg-primary" role="progressbar" style="width: 72%" aria-valuenow="72" aria-valuemin="0" aria-valuemax="100"></div>
                </div>
                <small>One Page</small>
                <div class="progress mb-3" style="height: 5px">
                  <div class="progress-bar bg-primary" role="progressbar" style="width: 89%" aria-valuenow="89" aria-valuemin="0" aria-valuemax="100"></div>
                </div>
                <small>Mobile Template</small>
                <div class="progress mb-3" style="height: 5px">
                  <div class="progress-bar bg-primary" role="progressbar" style="width: 55%" aria-valuenow="55" aria-valuemin="0" aria-valuemax="100"></div>
                </div>
                <small>Backend API</small>
                <div class="progress mb-3" style="height: 5px">
                  <div class="progress-bar bg-primary" role="progressbar" style="width: 66%" aria-valuenow="66" aria-valuemin="0" aria-valuemax="100"></div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  <ng-template #checkAccount>
    <body>
    <section id="not-found">
      <div id="title"> &bull; 404 Trang Lỗi</div>
    </section>
    </body>
  </ng-template>
</div>
